<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <title th:text="${appName} ?: 'JobHuntly'">JobHuntly</title>
    <style>
        @media only screen and (max-width:600px){ .container{width:100%!important}.p-24{padding:16px!important}.h-24{height:16px!important} }
        @media (prefers-color-scheme: dark){ .bg-body{background:#0f172a!important}.bg-card{background:#111827!important}.text{color:#e5e7eb!important}.muted{color:#9ca3af!important} }
    </style>
</head>
<body style="margin:0;padding:0;background:#f4f5f7" class="bg-body">
<!-- Preheader -->
<div style="display:none;max-height:0;overflow:hidden;font-size:1px;line-height:1px;color:#fff;opacity:0;"
     th:text="${preheader} ?: 'We just replied to your request.'">We just replied…</div>

<table role="presentation" cellpadding="0" cellspacing="0" border="0" width="100%">
    <tr>
        <td align="center" style="padding:24px;">
            <table role="presentation" cellpadding="0" cellspacing="0" border="0" width="600" class="container"
                   style="width:600px;max-width:600px;background:#ffffff;border-radius:10px;overflow:hidden;" bgcolor="#ffffff">
                <!-- Header -->
                <tr>
                    <td style="background:#4880FF;padding:18px 24px;" bgcolor="#0f172a" align="left">
                        <table role="presentation" width="100%" cellpadding="0" cellspacing="0" border="0">
                            <tr>
                                <td align="left" valign="middle">
                                    <img th:src="${logoUrl}"
                                         src="https://res.cloudinary.com/dfbqhd5ht/image/upload/v1757058535/logo-title-white_yjzvvr.png"
                                         alt="Logo" height="40" style="display:block;border:0;outline:none;text-decoration:none;"/>
                                </td>
                                <td align="right" valign="middle"
                                    style="font:14px/1.2 'Segoe UI', Arial, sans-serif;color:#ffffff;">
                                    <span th:text="${appName} ?: 'JobHuntly'">JobHuntly</span>
                                </td>
                            </tr>
                        </table>
                    </td>
                </tr>

                <tr><td style="height:24px;" class="h-24">&nbsp;</td></tr>

                <!-- Body -->
                <tr>
                    <td class="p-24" style="padding:24px;" align="left">
                        <h1 style="margin:0 0 8px;font:700 18px 'Segoe UI', Arial, sans-serif;color:#111827" class="text"
                            th:text="${heading} ?: 'Support Response'">Support Response</h1>

                        <p style="margin:0 0 12px;font:14px/1.6 'Segoe UI', Arial, sans-serif;color:#374151" class="text"
                           th:if="${customerName != null}">
                            Hi <span th:text="${customerName}">there</span>,
                        </p>

                        <!-- Nội dung do agent nhập (đã escape line-break thành <br/>) -->
                        <div style="margin:0 0 12px;font:14px/1.7 'Segoe UI',Arial,sans-serif;color:#374151" class="text"
                             th:utext="${messageHtml}">
                            Thanks for reaching out!<br/>We’ve updated your request…
                        </div>

                        <div th:if="${ctaUrl != null}" style="margin:16px 0 0;">
                            <a th:href="${ctaUrl}" href="#"
                               style="display:inline-block;background:#4880FF;color:#fff;text-decoration:none;
                        font:700 14px 'Segoe UI',Arial,sans-serif;padding:10px 16px;border-radius:8px;"
                               th:text="${ctaLabel} ?: 'View details'">View details</a>
                        </div>
                    </td>
                </tr>

                <!-- Footer -->
                <tr>
                    <td style="padding:16px 24px;background:#f9fafb" bgcolor="#f9fafb" align="left" class="bg-card">
                        <p style="margin:0 0 6px;font:12px/1.6 'Segoe UI',Arial,sans-serif;color:#6b7280" class="muted">
                            Need help? Contact us at
                            <a th:href="'mailto:' + ${supportEmail}" th:text="${supportEmail} ?: 'help.jobhuntly@gmail.com'"
                               href="mailto:help.jobhuntly@gmail.com" style="color:#2563eb;text-decoration:underline;">
                                help.jobhuntly@gmail.com
                            </a>
                        </p>
                        <p style="margin:0;font:12px/1.6 'Segoe UI',Arial,sans-serif;color:#9ca3af" class="muted">
                            © <span th:text="${year}">2025</span> <span th:text="${appName} ?: 'JobHuntly'">JobHuntly</span>. All rights reserved.
                        </p>
                    </td>
                </tr>
            </table>
        </td>
    </tr>
</table>
</body>
</html>
